<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>IAM Molecule Viewer</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://3dmol.org/build/3Dmol-min.js"></script>
</head>
<body>
    <header>
        <h1>IAM â€“ Molecule Viewer & XTB Engine</h1>
    </header>

    <div class="main-content">
        <div class="card input-card">
            <h2>1. Molecule Input</h2>
            <textarea id="moleculeInput" rows="8" placeholder="Paste your .xyz or .mol file contents here"></textarea>
            <div class="file-upload-row">
                <label for="xyzFile">or upload file:</label>
                <input type="file" id="xyzFile" accept=".xyz,.mol">
            </div>
        </div>

        <div class="card options-card">
            <h2>2. Job Options</h2>
            <div class="options-row">
                <label for="method">Method:</label>
                <select id="method">
                    <option value="xtb">XTB</option>
                    <option value="psi4">Psi4</option>
                </select>
                <label for="basis">Basis Set:</label>
                <select id="basis">
                    <option value="def2-SVP">def2-SVP</option>
                    <option value="def2-TZVP">def2-TZVP</option>
                </select>
                <label for="charge">Charge:</label>
                <input type="number" id="charge" value="0" style="width: 60px;">
                <label for="multiplicity">Multiplicity:</label>
                <input type="number" id="multiplicity" value="1" style="width: 60px;">
            </div>
            <button class="submit-btn" onclick="launchIAM()">Submit Job</button>
            <span id="jobStatus" class="job-status"></span>
        </div>

        <div class="card output-card">
            <h2>3. Output</h2>
            <div class="output-tabs">
                <button class="tab-button active" onclick="showTab('summary')">Summary</button>
                <button class="tab-button" onclick="showTab('input')">Input File</button>
                <button class="tab-button" onclick="showTab('output')">Output File</button>
            </div>
            <div id="summary" class="tab-content active">
                <pre id="summaryContent">No job submitted</pre>
            </div>
            <div id="input" class="tab-content">
                <pre id="inputFileContent">No file</pre>
            </div>
            <div id="output" class="tab-content">
                <pre id="outputFileContent">No result</pre>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
